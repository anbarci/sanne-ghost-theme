{{!< default}}

<article class="post-container" itemscope itemtype="http://schema.org/BlogPosting">
    {{#post}}
    <header class="post-header">
        {{#if feature_image}}
        <figure class="post-feature-image">
            <img src="{{img_url feature_image size="xl"}}" 
                 alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}}{{/if}}"
                 itemprop="image"
                 loading="eager">
        </figure>
        {{/if}}
        
        <div class="post-meta">
            {{#if primary_tag}}
            <span class="post-tag" itemprop="articleSection">
                <a href="{{primary_tag.url}}" rel="tag">{{primary_tag.name}}</a>
            </span>
            {{/if}}
            
            <time class="post-date" datetime="{{date format="YYYY-MM-DD"}}" itemprop="datePublished">
                {{date format="MMMM D, YYYY"}}
            </time>
            
            <span class="post-reading-time">{{reading_time}}</span>
        </div>
        
        <h1 class="post-title" itemprop="headline">{{title}}</h1>
        
        {{#if excerpt}}
        <div class="post-excerpt" itemprop="description">
            <p>{{excerpt}}</p>
        </div>
        {{/if}}
        
        <div class="post-author-info">
            {{#primary_author}}
            <div class="author-card" itemscope itemtype="http://schema.org/Person">
                {{#if profile_image}}
                <img src="{{img_url profile_image size="s"}}" 
                     alt="{{name}}"
                     class="author-avatar"
                     itemprop="image">
                {{/if}}
                <div class="author-details">
                    <h4 class="author-name">
                        <a href="{{url}}" itemprop="url">
                            <span itemprop="name">{{name}}</span>
                        </a>
                    </h4>
                    {{#if bio}}
                    <p class="author-bio" itemprop="description">{{bio}}</p>
                    {{/if}}
                </div>
            </div>
            {{/primary_author}}
        </div>
    </header>
    
    <div class="post-content" itemprop="articleBody">
        {{content}}
    </div>
    
    {{#if @custom.show_social_share}}
    <aside class="post-share" aria-label="Share this article">
        <h3 class="share-title">Share this article</h3>
        <div class="share-buttons">
            <a href="https://twitter.com/intent/tweet?text={{encode title}}&url={{url absolute="true"}}" 
               class="share-button share-twitter"
               target="_blank"
               rel="noopener noreferrer"
               aria-label="Share on Twitter">
                <svg class="share-icon" viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                </svg>
                <span>Twitter</span>
            </a>
            
            <a href="https://www.facebook.com/sharer/sharer.php?u={{url absolute="true"}}" 
               class="share-button share-facebook"
               target="_blank"
               rel="noopener noreferrer"
               aria-label="Share on Facebook">
                <svg class="share-icon" viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                </svg>
                <span>Facebook</span>
            </a>
            
            <a href="https://www.linkedin.com/sharing/share-offsite/?url={{url absolute="true"}}" 
               class="share-button share-linkedin"
               target="_blank"
               rel="noopener noreferrer"
               aria-label="Share on LinkedIn">
                <svg class="share-icon" viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
                <span>LinkedIn</span>
            </a>
            
            <button class="share-button share-copy" 
                    onclick="copyToClipboard('{{url absolute="true"}}')"
                    aria-label="Copy link">
                <svg class="share-icon" viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                </svg>
                <span>Copy Link</span>
            </button>
        </div>
    </aside>
    {{/if}}
    
    <footer class="post-footer">
        {{#if tags}}
        <section class="post-tags" itemprop="keywords">
            <h3 class="tags-title">Tags</h3>
            <div class="tag-list">
                {{#foreach tags}}
                <a href="{{url}}" class="tag-link" rel="tag">{{name}}</a>
                {{/foreach}}
            </div>
        </section>
        {{/if}}
        
        <div class="post-author-card">
            {{#primary_author}}
            <div class="author-profile" itemscope itemtype="http://schema.org/Person">
                {{#if profile_image}}
                <img src="{{img_url profile_image size="m"}}" 
                     alt="{{name}}"
                     class="author-avatar-large"
                     itemprop="image">
                {{/if}}
                <div class="author-info">
                    <h4 class="author-name-large">
                        <a href="{{url}}" itemprop="url">
                            <span itemprop="name">{{name}}</span>
                        </a>
                    </h4>
                    {{#if bio}}
                    <p class="author-bio-large" itemprop="description">{{bio}}</p>
                    {{/if}}
                    {{#if website}}
                    <a href="{{website}}" class="author-website" rel="noopener noreferrer" target="_blank">Visit website</a>
                    {{/if}}
                </div>
            </div>
            {{/primary_author}}
        </div>
    </footer>
    {{/post}}
</article>

{{#if @custom.show_social_share}}
<script>
function copyToClipboard(url) {
    navigator.clipboard.writeText(url).then(function() {
        const button = event.target.closest('.share-copy');
        const originalText = button.querySelector('span').textContent;
        button.querySelector('span').textContent = 'Copied!';
        setTimeout(() => {
            button.querySelector('span').textContent = originalText;
        }, 2000);
    }).catch(function() {
        // Fallback for older browsers
        const textarea = document.createElement('textarea');
        textarea.value = url;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);
        
        const button = event.target.closest('.share-copy');
        const originalText = button.querySelector('span').textContent;
        button.querySelector('span').textContent = 'Copied!';
        setTimeout(() => {
            button.querySelector('span').textContent = originalText;
        }, 2000);
    });
}
</script>
{{/if}}